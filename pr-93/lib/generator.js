/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};var e,n=function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};function r(t,e,n,r){return new(n||(n=Promise))(function(e,i){function o(t){try{s(r.next(t))}catch(t){i(t)}}function a(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n(function(t){t(r)})).then(o,a)}s((r=r.apply(t,[])).next())})}function i(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function o(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}
/*!
Copyright (c) Jesse G. Donat and contributors. Licensed under the MIT License.

This notice may not be removed or altered from any source distribution.
*/function s(t){return t&&"function"==typeof t.getControls}!function(t){t.Shape="Shape",t.Render="Render",t.Download="Download",t.Tools="Tools",t.Details="Details"}(e||(e={}));var c=function(){function t(t,e){this.group=t,this.label=e,this._element=null}return Object.defineProperty(t.prototype,"element",{get:function(){return this._element||(this._element=document.createElement("output")),this._element},enumerable:!1,configurable:!0}),t.prototype.setValue=function(t){this.element.value=t},t}();function l(t,e,n,r){var i=document.createElement("button");return i.innerText=n,i.addEventListener("click",r),{element:i,label:e,group:t}}function h(t,e,n,r,i,o){var a,s=document.createElement("input");o&&Object.assign(s,o),s.type=n,s.value="".concat(r);return s.addEventListener("input",function(){clearTimeout(a),a=setTimeout(function(){i(s.value)},50)}),{label:e,group:t,element:s}}var u=function(){function t(){this.listeners=new Set}return t.prototype.add=function(t){this.listeners.add(t)},t.prototype.remove=function(t){this.listeners.delete(t)},t.prototype.trigger=function(t){this.listeners.forEach(function(e){return e(t)})},t.prototype.clear=function(){this.listeners.clear()},t}();function d(t){var e=document.createElement("canvas"),n=e.getContext("2d");if(null===n)throw new Error("Could not create canvas context");return new Promise(function(r){var i=document.createElement("img");i.src="data:image/svg+xml;base64,"+btoa(t),i.onload=function(){e.width=i.width,e.height=i.height,n.drawImage(i,0,0),r(e)}})}function g(t,e){var n=document.createElement("a");n.href=t,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}var f="filled",p="built",v="data-x",m="data-y",y="data-w",w="data-h",b={classic:{name:"Classic",colors:{axisFilled:"#880000",filled:"#FF0000",axisLight:"#CCCCCC",axisDark:"#AAAAAA",grid:"#bbbbbb",built:"#7711AA"}},ocean:{name:"Ocean",colors:{axisFilled:"#003366",filled:"#0066CC",axisLight:"#CCE5FF",axisDark:"#99CCFF",grid:"#B3D9FF",built:"#00CC99"}},forest:{name:"Forest",colors:{axisFilled:"#1B4D1B",filled:"#2E7D32",axisLight:"#C8E6C9",axisDark:"#A5D6A7",grid:"#B9D8B9",built:"#FFA726"}},sunset:{name:"Sunset",colors:{axisFilled:"#B71C1C",filled:"#FF5722",axisLight:"#FFE0B2",axisDark:"#FFCC80",grid:"#FFD699",built:"#9C27B0"}},monochrome:{name:"Monochrome",colors:{axisFilled:"#000000",filled:"#404040",axisLight:"#F0F0F0",axisDark:"#D0D0D0",grid:"#C0C0C0",built:"#808080"}},sunny:{name:"Sunny Day",colors:{axisFilled:"#0072B2",filled:"#56B4E9",axisLight:"#F0E442",axisDark:"#E69F00",grid:"#D0D0D0",built:"#D55E00"}}};function C(t){if(!(t in b))throw new Error("Invalid color scheme key: ".concat(t))}var S,x=function(){function t(t,e,n,r){var i=this;this.builtSquares=new Set,this.isDragging=!1,this.dragMode="add",this.processedDuringDrag=new Set,this.handlePointerDown=function(t){var e=t.target;if(e.classList.contains(f)){t.preventDefault(),i.isDragging=!0,i.processedDuringDrag.clear();var n=i.getCoordFromElement(e);if(n){var r=i.coordToKey(n.x,n.y);i.dragMode=i.builtSquares.has(r)?"remove":"add",i.toggleSquare(e,r,i.dragMode),i.processedDuringDrag.add(r)}var o=t.currentTarget;o&&o.setPointerCapture(t.pointerId)}},this.handlePointerMove=function(t){if(i.isDragging){var e=document.elementFromPoint(t.clientX,t.clientY);if(e&&e.classList.contains(f)){var n=i.getCoordFromElement(e);if(n){var r=i.coordToKey(n.x,n.y);i.processedDuringDrag.has(r)||(i.toggleSquare(e,r,i.dragMode),i.processedDuringDrag.add(r))}}}},this.handlePointerUp=function(t){if(i.isDragging){i.isDragging=!1,i.processedDuringDrag.clear();var e=t.currentTarget;e&&e.releasePointerCapture(t.pointerId)}},this.handlePointerCancel=function(){i.isDragging=!1,i.processedDuringDrag.clear()},this.svg=t,this.scaleSize=e,this.builtSquaresState=n.get("builtSquares-".concat(r),{built:[],width:0,height:0}),this.builtSquares=new Set(this.builtSquaresState.get("built")),this.attachEventListeners(),this.applyBuiltSquaresToSvg()}return t.prototype.getSvgElement=function(){return this.svg},Object.defineProperty(t.prototype,"node",{get:function(){return this.svg},enumerable:!1,configurable:!0}),t.prototype.applyBuiltSquaresToSvg=function(){var t=this;this.builtSquares.forEach(function(e){var n=a(e.split(",").map(function(t){return parseInt(t,10)}),2),r=n[0],i=n[1],o=t.svg.querySelector("[".concat(v,'="').concat(r,'"][').concat(m,'="').concat(i,'"]'));o&&o.classList.contains(f)&&o.classList.add(p)})},t.prototype.setScale=function(t){var e=this.svg.getAttribute(w),n=this.svg.getAttribute(y);if(!e||!n)throw new Error("error getting requisite data attributes");var r=parseInt(n,10),i=t,o=i*=.01*r,a=i*(parseInt(e,10)/r);this.svg.setAttribute("width",o+"px"),this.svg.setAttribute("height",a+"px"),this.svg.style.width=o+"px",this.svg.style.height=a+"px"},t.prototype.getControls=function(){var t=this;return[h(e.Render,"scale","range",this.scaleSize,function(e){t.scaleSize=parseInt(e,10),t.setScale(t.scaleSize)},{min:"100",max:"2000"}),l(e.Tools,null,"Clear Built",function(){t.clearBuiltSquares()})]},t.prototype.attachEventListeners=function(){this.svg.addEventListener("pointerdown",this.handlePointerDown),this.svg.addEventListener("pointermove",this.handlePointerMove),this.svg.addEventListener("pointerup",this.handlePointerUp),this.svg.addEventListener("pointercancel",this.handlePointerCancel)},t.prototype.isSquareBuilt=function(t,e){return this.builtSquares.has(this.coordToKey(t,e))},t.prototype.coordToKey=function(t,e){return"".concat(t,",").concat(e)},t.prototype.getCoordFromElement=function(t){var e=t.getAttribute(v),n=t.getAttribute(m);return null===e||null===n?null:{x:parseInt(e,10),y:parseInt(n,10)}},t.prototype.clearBuiltSquares=function(){this.builtSquares.clear(),this.builtSquaresState.set("built",[]),this.svg.querySelectorAll(".".concat(p)).forEach(function(t){t.classList.remove(p)})},t.prototype.toggleSquare=function(t,e,n){"add"===(n||(this.builtSquares.has(e)?"remove":"add"))?(this.builtSquares.add(e),t.classList.add(p)):(this.builtSquares.delete(e),t.classList.remove(p)),this.builtSquaresState.set("built",Array.from(this.builtSquares))},t}(),E=function(){function t(t,n){this.scaleSize=t,this.dWidth=5,this.dBorder=1,this.dFull=this.dWidth+this.dBorder,this.blocks=new c(e.Details,"blocks"),this.stacksOf64=new c(e.Details,"stacks of 64"),this.stacksOf16=new c(e.Details,"stacks of 16"),this.changeEmitter=new u,this.interactionHandler=null,this.lastGenerator=null,this.svgRendererState=n;var r=n.get("svgRenderer",{scale:t,colorScheme:"classic"});this.colorScheme=r.get("colorScheme")}return t.prototype.getColors=function(){return(b[this.colorScheme]||b.classic).colors},t.prototype.triggerChange=function(){this.changeEmitter.trigger({scale:this.scaleSize,colorScheme:this.colorScheme})},t.prototype.createColorSchemeSelect=function(){var t,e,n=this,r=document.createElement("select");try{for(var i=o(Object.keys(b)),a=i.next();!a.done;a=i.next()){var s=a.value;C(s);var c=b[s],l=document.createElement("option");l.value=s,l.innerText=c.name,r.appendChild(l),s===this.colorScheme&&(l.selected=!0)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r.addEventListener("change",function(){C(r.value),n.colorScheme=r.value,n.svgRendererState.get("svgRenderer",{scale:n.scaleSize,colorScheme:"classic"}).set("colorScheme",n.colorScheme),n.triggerChange()}),r},t.prototype.getControls=function(){var t=this;return[l(e.Download,null,"PNG",function(){return r(t,0,void 0,function(){var t,e,n,r;return i(this,function(i){switch(i.label){case 0:if(!this.interactionHandler)throw new Error("No SVG to download");return[4,d(this.interactionHandler.getSvgElement().outerHTML)];case 1:return t=i.sent(),e=t.toDataURL(),n=((null===(r=this.lastGenerator)||void 0===r?void 0:r.getDescription())||"circle")+"-download.png",g(e,n),[2]}})})}),l(e.Download,null,"SVG",function(){return r(t,0,void 0,function(){var t,e,n,r;return i(this,function(i){if(!this.interactionHandler)throw new Error("No SVG to download");return t=this.interactionHandler.getSvgElement(),e="data:image/svg+xml;base64,"+btoa(t.outerHTML),n=((null===(r=this.lastGenerator)||void 0===r?void 0:r.getDescription())||"circle")+"-download.svg",g(e,n),[2]})})}),{element:this.createColorSchemeSelect(),label:"Color Scheme",group:e.Render},this.blocks,this.stacksOf64,this.stacksOf16]},t.prototype.add=function(t,e,n,r,i){var o,a=(t+1)*this.dFull-this.dFull/2+.5,s=(e+1)*this.dFull-this.dFull/2+.5,c=null,l=n/2-.5,h=r/2-.5,u=this.getColors();if(i?c=t==l||e==h?u.axisFilled:u.filled:t!=l&&e!=h||(o=!!(1&e),c=(!!(1&t)?!o:o)?u.axisDark:u.axisLight),c){var d=i?f:"";return'<rect x="'.concat(a,'" y="').concat(s,'" fill="').concat(c,'" width="').concat(this.dWidth,'" height="').concat(this.dWidth,'" class="').concat(d,'" ').concat(v,'="').concat(t,'" ').concat(m,'="').concat(e,'" />')}return""},t.prototype.render=function(t,e){var n=a(this.generateSVG(e),2),r=n[0],i=n[1];return this.interactionHandler=new x(r,this.scaleSize,this.svgRendererState,i),this.interactionHandler.setScale(this.scaleSize),t.innerHTML="",t.appendChild(r),this.interactionHandler},t.prototype.generateSVG=function(t){var e=t.getBounds();this.lastGenerator=t;var n=e.minX,r=e.maxX,i=e.minY,o=e.maxY,a=r-n,s=o-i,c=this.dFull*(a+1),l=this.dFull*(s+1),h=this.dWidth/2,u=a/2,d=s/2,g=[],v=this.getColors();g.push('<svg id="'.concat("svg_circle",'"\n\t\t\txmlns="').concat("http://www.w3.org/2000/svg",'"\n\t\t\t').concat(y,'="').concat(c,'" ').concat(w,'="').concat(l,'"\n\t\t\twidth="').concat(c,'px" height="').concat(l,'px"\n\t\t\tviewBox="0 0 ').concat(c," ").concat(l,'">\n\t\t\t<style>\n\t\t\t\t.').concat(f," {\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: fill 0.3s;\n\t\t\t\t}\n\n\t\t\t\t.").concat(f,":hover {\n\t\t\t\t\tfill: ").concat(v.built,";\n\t\t\t\t}\n\n\t\t\t\t.").concat(f,".").concat(p," {\n\t\t\t\t\tfill: ").concat(v.built,";\n\t\t\t\t}\n\n\t\t\t\t.").concat(f,".").concat(p,":hover {\n\t\t\t\t\tfill: inherit;\n\t\t\t\t}\n\t\t\t</style>\n\t\t"));for(var m=0,b=i;b<o;b++)for(var C=n;C<r;C++){var S=t.isFilled(C,b),x=this.add(C,b,a,s,S);x&&g.push(x),S&&m++}return this.blocks.setValue("".concat(m)),this.stacksOf64.setValue("".concat((m/64).toFixed(1))),this.stacksOf16.setValue("".concat((m/16).toFixed(1))),g.push(this.renderGridLines(a,l,h,u,!0)),g.push(this.renderGridLines(s,c,h,d,!1)),g.push("</svg>"),[(new DOMParser).parseFromString(g.join(""),"image/svg+xml").documentElement,t.getDescription()]},t.prototype.renderGridLines=function(t,e,n,r,i){for(var o=[],a=this.getColors(),s=0;s<=t;s++){var c=s===r,l=c?a.axisFilled:a.grid,h=c?"1":".3";i?o.push('<rect x="'.concat(s*this.dFull+n,'" y="0" fill="').concat(l,'"\n\t\t\t\t\t\t width="').concat(this.dBorder,'" height="').concat(e,'" opacity="').concat(h,'" />')):o.push('<rect x="0" y="'.concat(s*this.dFull+n,'" fill="').concat(l,'"\n\t\t\t\t\t\t width="').concat(e,'" height="').concat(this.dBorder,'" opacity="').concat(h,'" />'))}return o.join("")},t}(),D=function(e){function n(t){return e.call(this,"This should never happen")||this}return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(n,e),n}(Error);function F(t,e,n,r){return function(t,e,n){return Math.sqrt(Math.pow(e*n,2)+Math.pow(t,2))}(t,e,r)<=n}!function(t){t.thick="thick",t.thin="thin",t.filled="filled"}(S||(S={}));var k=function(){function t(t,n,r,i){var o=this;this.width=t,this.height=n,this.mode=r,this.force=i,this.changeEmitter=new u,this.cachedControls=null,this.widthControl=h(e.Shape,"width","number",this.width,function(){o.force&&(o.heightControl.element.value=o.widthControl.element.value,o.height=parseInt(o.widthControl.element.value,10)),o.width=parseInt(o.widthControl.element.value,10),o.triggerChange("width")}),this.heightControl=h(e.Shape,"height","number",this.height,function(){o.force&&(o.widthControl.element.value=o.heightControl.element.value,o.width=parseInt(o.heightControl.element.value,10)),o.height=parseInt(o.heightControl.element.value,10),o.triggerChange("height")}),this.forceCircleControl=h(e.Shape,"Force Circle","checkbox","1",function(){o.force=o.forceCircleControl.element.checked,o.height=o.width,o.heightControl.element.value=o.widthControl.element.value,o.triggerChange("force")}),this.forceCircleControl.element.checked=this.force}return t.prototype.triggerChange=function(t){this.changeEmitter.trigger({event:t,state:{mode:this.mode,width:this.width,height:this.height,force:this.force}})},t.prototype.createModeSelectElement=function(){var t,e,n=this,r=document.createElement("select");try{for(var i=o(Object.keys(S)),a=i.next();!a.done;a=i.next()){var s=a.value,c=document.createElement("option");c.innerText=s,r.appendChild(c),s==this.mode&&(c.selected=!0)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r.addEventListener("change",function(){n.setMode(r.value),n.triggerChange("mode")}),r},t.prototype.getControls=function(){return this.cachedControls||(this.cachedControls=[this.forceCircleControl,this.widthControl,this.heightControl,{element:this.createModeSelectElement(),label:"border",group:e.Render}]),this.cachedControls},t.prototype.setMode=function(t){this.mode=t},t.prototype.getBounds=function(){return{minX:0,maxX:this.width,minY:0,maxY:this.height}},t.prototype.isFilled=function(t,e){var n=this.getBounds();switch(t=-.5*(n.maxX-2*(t+.5)),e=-.5*(n.maxY-2*(e+.5)),this.mode){case S.thick:return function(t,e,n,r){return F(t,e,n,r)&&!(F(t+1,e,n,r)&&F(t-1,e,n,r)&&F(t,e+1,n,r)&&F(t,e-1,n,r)&&F(t+1,e+1,n,r)&&F(t+1,e-1,n,r)&&F(t-1,e-1,n,r)&&F(t-1,e+1,n,r))}(t,e,n.maxX/2,n.maxX/n.maxY);case S.thin:return function(t,e,n,r){return F(t,e,n,r)&&!(F(t+1,e,n,r)&&F(t-1,e,n,r)&&F(t,e+1,n,r)&&F(t,e-1,n,r))}(t,e,n.maxX/2,n.maxX/n.maxY);case S.filled:return F(t,e,n.maxX/2,n.maxX/n.maxY);default:throw new D(this.mode)}},t.prototype.getDescription=function(){return"Circle-".concat(this.width,"x").concat(this.height,"-").concat(this.mode)},t}(),L=function(){function t(t){this.value=t,this.changeEmitter=new u}return t.prototype.get=function(t){return this.value[t]},t.prototype.set=function(t,e){this.value[t]=e,this.changeEmitter.trigger()},t.prototype.getValue=function(){return this.value},t}(),T=function(){function t(t,e){void 0===t&&(t=window.localStorage),void 0===e&&(e="CircleGeneratorState"),this.storage=t,this.key=e,this.state={};var n=t.getItem(e);n&&(this.state=JSON.parse(n))}return t.prototype.get=function(t,e){var r=this,i=this.state[t]||{},o=n(n({},e),i),a=new L(o);return a.changeEmitter.add(function(){r.state[t]=a.getValue(),r.save()}),a},t.prototype.save=function(){this.storage.setItem(this.key,JSON.stringify(this.state))},t}(),O=function(){function t(t,e){var n=this;this.controls=t,this.result=e,this.stateMananger=new T,this.currentRenderOutput=null;var r=this.stateMananger.get("svgRenderer",{scale:500}),i=new E(r.get("scale"),this.stateMananger);this.renderer=i,i.changeEmitter.add(function(t){r.set("scale",t.scale)});var o=this.stateMananger.get("circle",{mode:S.thick,width:13,height:13,force:!0}),a=o.get("width"),s=o.get("height"),c=new k(a,s,o.get("mode"),o.get("force"));if(this.generator=c,this.generator.changeEmitter.add(function(){n.render()}),this.renderer.changeEmitter.add(function(){n.render(),n.renderControls()}),c.changeEmitter.add(function(t){o.set("mode",t.state.mode),o.set("width",t.state.width),o.set("height",t.state.height),o.set("force",t.state.force)}),a*s>4e4){var l=this.createConfirmationDialog("Do you want to re-render the saved ".concat(a," x ").concat(s," shape? This may take a while or freeze."),function(){n.renderControls(),n.render()},function(){o.set("width",5),o.set("height",5),window.location.reload()});return e.appendChild(l),void l.showModal()}this.render(),this.renderControls(),this.makeResultDraggable()}return t.prototype.createConfirmationDialog=function(t,e,n){var r=document.createElement("dialog");r.innerText=t;var i=document.createElement("form");i.method="dialog";var o=document.createElement("button");o.value="yes",o.innerText="Yes";var a=document.createElement("button");return a.innerText="No",a.value="no",i.appendChild(o),i.appendChild(a),i.style.padding="1em",i.style.display="flex",i.style.columnGap="1em",r.appendChild(i),r.addEventListener("close",function(){"yes"===r.returnValue?e():n()}),r},t.prototype.makeResultDraggable=function(){var t=!1,e=this.result;e.style.cursor="grab",e.style.userSelect="none",e.addEventListener("pointerdown",function(n){var r=n.target;r&&r.classList.contains("filled")||"mouse"===n.pointerType&&(t=!0,e.setPointerCapture(n.pointerId),e.style.cursor="grabbing")}),e.addEventListener("pointermove",function(n){t&&e.scrollBy(-n.movementX,-n.movementY)}),e.addEventListener("pointerup",function(n){"mouse"===n.pointerType&&(t=!1,e.releasePointerCapture(n.pointerId),e.style.cursor="grab")})},t.prototype.renderControls=function(){var t,e,n,r,i,a;this.controls.innerHTML="";var c=[];s(this.generator)&&c.push(this.generator),s(this.renderer)&&c.push(this.renderer),this.currentRenderOutput&&s(this.currentRenderOutput)&&c.push(this.currentRenderOutput);var l={};try{for(var h=o(c),u=h.next();!u.done;u=h.next()){var d=u.value;try{for(var g=(n=void 0,o(d.getControls())),f=g.next();!f.done;f=g.next()){l[(b=f.value).group]||(l[b.group]=[]),l[b.group].push(b)}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=g.return)&&r.call(g)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=h.return)&&e.call(h)}finally{if(t)throw t.error}}for(var p in l)if(l.hasOwnProperty(p)){var v=document.createElement("fieldset"),m=document.createElement("legend");m.innerText=p,v.appendChild(m);try{for(var y=(i=void 0,o(l[p])),w=y.next();!w.done;w=y.next()){var b=w.value,C=document.createElement("label");v.appendChild(C),b.label&&(C.innerText=b.label),C.appendChild(b.element)}}catch(t){i={error:t}}finally{try{w&&!w.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}this.controls.appendChild(v)}},t.prototype.render=function(){this.currentRenderOutput=this.renderer.render(this.result,this.generator)},t}();export{O as MainController};
